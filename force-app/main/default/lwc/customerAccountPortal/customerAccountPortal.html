<template>
    <template if:true={hasContact}>
        <lightning-card title="Contact Information" icon-name="standard:contact">
            <div class="custom-card-wrapper slds-p-around_medium">
                <template if:true={isEditMode}>
                    <lightning-record-edit-form 
                        record-id={contact.Id} 
                        object-api-name="Contact"
                        onsuccess={handleSuccess}
                        onerror={handleError}
                        onsubmit={handleSubmit}
                    >
                        <lightning-messages></lightning-messages>
                        <lightning-output-field field-name="Email" value={contact.Email}></lightning-output-field></p>
                        <lightning-input-field field-name="FirstName"></lightning-input-field>
                        <lightning-input-field field-name="LastName"></lightning-input-field>
                        <lightning-input-field field-name="Phone"></lightning-input-field>
                        <lightning-input-field field-name="MailingAddress"></lightning-input-field>
                        <lightning-input-field field-name="Balance__c"></lightning-input-field>
                        <lightning-button class="slds-m-top_small" type="submit" label="Save"></lightning-button>
                        <lightning-button class="slds-m-top_small" label="Cancel" onclick={handleCancelClick}></lightning-button>                       
                    </lightning-record-edit-form>
                </template>
                <template if:false={isEditMode}>
                    <p><strong>Email:</strong>  {contact.Email}</p>
                    <p><strong>First Name:</strong> {contact.FirstName}</p>
                    <p><strong>Last Name:</strong>{contact.LastName}</p>
                    <p><strong>Phone:</strong> {contact.Phone}</p>
                    <p><strong>Address:</strong> {contact.MailingAddress}</p>
                    <p><strong>Balance:</strong> <lightning-formatted-number value={contact.Balance__c} format-style="currency" currency-code="USD"></lightning-formatted-number>
                    </p>
                    <lightning-button class="slds-m-top_small" label="Edit" onclick={handleEditClick}></lightning-button>
                </template>
            </div>
        </lightning-card>
    </template>
    <template if:false={hasContact}>
        <lightning-card title="Contact Information" icon-name="standard:contact">
            <div class="slds-p-around_medium">
                <p>No contact information available for the current user.</p>
            </div>
        </lightning-card>
    </template>
</template>
